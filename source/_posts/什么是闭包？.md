

# 什么是闭包？
	在JavaScript中全局作用域中无法访问到局部作用域中变量，所以为了访问局部作用域中变量，这时候闭包的作用就来了，可以闭包为什么能访问到局部作用域中的变量呢？MDN上这样定义闭包：闭包是函数和声明该函数的词法环境的组合。啊这？我怎么看不懂？如何通俗易懂的理解闭包
	闭包产生的原因有三个方面
## 1.作用域和作用域链
	作用域是变量作用的地方，而JavaScript中在ES6之前只有两种作用域，一种是全局作用域，一种局部作用域也可以说成函数作用域。作用域链是一个变量在自己的局部作用域没有找这个变量的定义，这时候就会去上一个的作用域去找，直到找到这个变量或者一直到全局作用域中都没有找到而停止。

## 2.执行上下文栈
	在JS中函数时是引用型数据，当函数被定义的时候，然后调用这个函数时就会将这个函数的在堆里的地址值返回给这个定义的属性，然后函数被调用就会把这个函数执行上下文压入这个栈，然后这个函数执行完之后就会从这个栈里出来，因此每次调用函数都是一个新创建的一个函数执行上下文，所以普通函数就算是多次执行一个正常的函数
```javascript
function show()
{
    var a = 1
    console.log(a++)
}
var s = show;
s()//1
s()//1
s()//1
```
这段代码重新使用了同一个变量。但是每次输出的都是1，这就是函数执行上下文在调用之后就会被弹出这个栈，因此每次都会重新调用都是一个新的函数执行上下文，但是window这个全局执行上下文就不会被弹出栈，这样我们就可以模仿这样的来设置一个不会被弹出栈的函数，这样就可以每次引用都不会重新来过，所以闭包就可以解决这个问题。
	
## 3.JS的垃圾回收

	垃圾就是没用被引用的对象，或者几个对象相互引用形成了一个环，这个也算垃圾。
因此如果一个函数没有被调用或者引用这个函数就会被认为为垃圾，然后垃圾就会被回收，但是如果引用了这个函数或者对象中一个属性，那么垃圾回收处理机制就会认为这个函数和对象还在被引用，所以就不会去销毁这个对象或者函数，因此一直在执行上下文栈中，所有每次调用同一个都会在这个执行上下文栈中找到这个，然后就不会重新创建一个新的执行上下文栈。


**因此JS中闭包简单来说就是函数外面能够访问到函数里面的属性值，并且这个属性值在同一个声明调用下会进行操作而不会重新变成最开始的函数内声明的值** 
			
